<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Branch Details</title>
    <!-- Favicon and Apple Touch Icon -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&family=Poppins:wght@100;200;300;400;500;600;700&family=Raleway:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- Other Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">
    <link rel="stylesheet" href="/src/index.css">
</head>
<body class="bg-gray-100 text-gray-900">
    <header id="header" class="header d-flex align-items-center sticky-top">
        <div class="container-fluid container-xl position-relative d-flex align-items-center">
            <a href="index.html" class="logo d-flex align-items-center me-auto">
                <!-- Uncomment the line below if you also wish to use an image logo -->
                <img src="assets/img/logo.png" alt="">
            </a>
    
            <nav id="navmenu" class="navmenu">
                <ul>
                    <li><a href="index.html">Home<br></a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="courses.html" class="active">Courses</a></li>
                    <li><a href="pricing.html">Pricing</a></li>
                    <li class="dropdown"><a href="#"><span>Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                        <ul>
                            <li><a href="#">Dropdown 1</a></li>
                            <li class="dropdown"><a href="#"><span>Deep Dropdown</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                                <ul>
                                    <li><a href="#">Deep Dropdown 1</a></li>
                                    <li><a href="#">Deep Dropdown 2</a></li>
                                    <li><a href="#">Deep Dropdown 3</a></li>
                                    <li><a href="#">Deep Dropdown 4</a></li>
                                    <li><a href="#">Deep Dropdown 5</a></li>
                                </ul>
                            </li>
                            <li><a href="#">Dropdown 2</a></li>
                            <li><a href="#">Dropdown 3</a></li>
                            <li><a href="#">Dropdown 4</a></li>
                        </ul>
                    </li>
                    <li><a href="contact.html" >Contact</a></li>
                    <li><a href="generative.html" >AI BOT</a></li>
                </ul>
                <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
            </nav>
    
            <a class="btn-getstarted" href="courses.html">Get Started</a>
    
        </div>
    </header>
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold mb-6">Branch Details</h1>
        <div id="tracker" class="mb-6">
            <label for="progressRange" class="block text-lg font-semibold mb-2">Target Tracker:</label>
            <p class="text-lg font-medium text-gray-700 mt-4">
                You can set a target for your results using the Exam Ease Progress Tracer. Based on your goal, we will show you 3, 4, or 5 chapters to help you stay on track.
              </p>
              <p class="text-lg font-medium text-blue-700 mt-4">
                If you find it difficult to decide, ask our AI bot for more suggestions on which chapter to select.
              </p>
                            
            <input type="range" id="progressRange" min="0" max="100" step="1" value="100" class="w-full h-2 bg-blue-200 rounded-lg cursor-pointer" onchange="updateProgress()">
            <p id="progressText" class="mt-2 text-lg">100% - Showing All Chapters</p>
        </div>
        <div id="content" class="space-y-8">
            <!-- Dynamic content will be injected here -->
        </div>
    </div>

    <footer id="footer" class="footer position-relative light-background">

        <div class="container footer-top">
          <div class="row gy-4">
            <div class="col-lg-4 col-md-6 footer-about">
              <a href="index.html" class="logo d-flex align-items-center">
                <span class="sitename">Mentor</span>
              </a>
              <div class="footer-contact pt-3">
                <p>A108 Adam Street</p>
                <p>New York, NY 535022</p>
                <p class="mt-3"><strong>Phone:</strong> <span>+1 5589 55488 55</span></p>
                <p><strong>Email:</strong> <span>info@example.com</span></p>
              </div>
              <div class="social-links d-flex mt-4">
                <a href=""><i class="bi bi-twitter-x"></i></a>
                <a href=""><i class="bi bi-facebook"></i></a>
                <a href=""><i class="bi bi-instagram"></i></a>
                <a href=""><i class="bi bi-linkedin"></i></a>
              </div>
            </div>
    
            <div class="col-lg-2 col-md-3 footer-links">
              <h4>Useful Links</h4>
              <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About us</a></li>
                <li><a href="#">Services</a></li>
                <li><a href="#">Terms of service</a></li>
                <li><a href="#">Privacy policy</a></li>
              </ul>
            </div>
    
            
    
            <div class="col-lg-4 col-md-12 footer-newsletter">
              <h4>Our Newsletter</h4>
              <p>Subscribe to our newsletter and receive the latest news about our products and services!</p>
              <form action="forms/newsletter.php" method="post" class="php-email-form">
                <div class="newsletter-form"><input type="email" name="email"><input type="submit" value="Subscribe"></div>
                <div class="loading">Loading</div>
                <div class="error-message"></div>
                <div class="sent-message">Your subscription request has been sent. Thank you!</div>
              </form>
            </div>
    
          </div>
        </div>
    
        <div class="container copyright text-center mt-4">
          <p>Â© <span>Copyright</span> <strong class="px-1 sitename">EXAMS-EASE</strong> <span>All Rights Reserved</span></p>
          <div class="credits">
            <!-- All the links in the footer should remain intact. -->
            <!-- You can delete the links only if you've purchased the pro version. -->
            <!-- Licensing information: https://bootstrapmade.com/license/ -->
            <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
            Designed by <a href="https://bootstrapmade.com/">TEAM EXAM-EASE</a>
          </div>
        </div>
    
      </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Extract year and branch from the URL
            const urlParams = new URLSearchParams(window.location.search);
            const year = urlParams.get('year');
            const branch = urlParams.get('branch');

            if (year && branch) {
                fetch('data.json')
                    .then(response => response.json())
                    .then(data => {
                        const branchData = data[year] && data[year][branch];
                        if (branchData) {
                            displayContent(branchData);
                            updateProgress();  // Update the content based on the default or initial range value
                        } else {
                            document.getElementById('content').innerHTML = '<p>No data available for the selected branch.</p>';
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching the JSON data:', error);
                    });
            } else {
                document.getElementById('content').innerHTML = '<p>Please select a valid year and branch.</p>';
            }
        });

        function displayContent(branchData) {
            const contentDiv = document.getElementById('content');
            contentDiv.innerHTML = '';

            for (const [subject, subjectData] of Object.entries(branchData)) {
                const subjectSection = document.createElement('section');
                subjectSection.className = 'mb-8';
                subjectSection.innerHTML = `<h2 class="text-2xl font-semibold mb-4">${subject}</h2>`;

                subjectData.Chapters.forEach(chapter => {
                    const chapterDiv = document.createElement('div');
                    chapterDiv.className = 'chapter bg-white p-4 rounded-lg shadow mb-4';
                    chapterDiv.innerHTML = `
                        <h3 class="text-xl font-medium">${chapter.Title}</h3>
                        <p class="text-gray-700 mb-2">${chapter.Description}</p>
                        <a href="${chapter.File}" download class="bg-blue-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-blue-600 transition-all duration-300">Download ${chapter.Title}</a>
                    `;
                    subjectSection.appendChild(chapterDiv);
                });

                contentDiv.appendChild(subjectSection);
            }
        }

        function updateProgress() {
    const range = Number(document.getElementById('progressRange').value); // Convert range to number
    console.log(range); // Check the current range value
    const progressText = document.getElementById('progressText');
    const chapters = document.querySelectorAll('.chapter');
    const totalChapters = 5; // Number of chapters
    let chaptersToShow = totalChapters;

    if (range <= 50) {
        chaptersToShow = Math.ceil(totalChapters * 0.5);
        progressText.textContent = '50% - Showing ' + chaptersToShow + ' Chapters';
    } else if (range <= 70) {
        chaptersToShow = Math.ceil(totalChapters * 0.7);
        progressText.textContent = '70% - Showing ' + chaptersToShow + ' Chapters';
    } else if (range > 70) {
        chaptersToShow = totalChapters; // Ensure all chapters are shown at 100%
        progressText.textContent = '100% - Showing All Chapters';
    }

    chapters.forEach((chapter, index) => {
        chapter.style.display = index < chaptersToShow ? 'block' : 'none';
    });
}

    </script>
</body>
</html>